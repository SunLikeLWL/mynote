# 你的代码是怎么成为黑客工具的？


### 跨站脚本（Cross Site Scripting，XSS）


#### XSS 攻击示例


反射型 XSS 也叫非持久型 XSS，是指攻击者将恶意代码拼写在 URL 中提交给服务端，
服务端返回的内容，也带上了这段 XSS 代码，最后导致浏览器执行了这段恶意代码。





### XSS 防御手段


参数校验。
对于 HTTP 请求的 URL 参数和请求体 payload 的数据进行校验，比如我们接收的数据是用户年龄，
那么在后端，需要判断一下数据是否是 Number，对于不符合校验规则的数据及时抛出错误。

字符转义。


于一些特殊符号，比如“<”“>”“&”“"”“'”“/”，我们需要对其进行转义，
后端接收这些代码时候的转义存储，前端在显示的时候，再把它们转成原来的字符串进行显示。



### 跨站请求伪造（Cross-site Request Forgery，CSRF/XSRF）


CSRF 攻击就是在受害者毫不知情的情况下以受害者名义伪造请求发送给受攻击站点，
从而在并未授权的情况下执行在权限保护之下的操作。和 XSS 攻击方式相比，
CSRF 并不需要直接获取用户信息，只需要“借用”用户的登录信息相关操作即可，隐蔽性更强。



#### CSRF 攻击示例



#### CSRF 防御手段


### 点击劫持（C lickJacking ）



#### ClickJacking 示例



#### ClickJacking 防御


DENY：
表示页面不允许在 iframe 中引用，即便是在相同域名的页面中嵌套也不允许，GitHub 首页响应头部使用的就是这个值。

SAMEORIGIN：
表示该页面可以在相同域名页面的 iframe 中引用，知乎网站首页响应头部使用的就是这个值。

ALLOW-FROM [URL]：
表示该页面可以在指定来源的 iframe 中引用。



